#!/bin/bash
# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞

echo "========================================="
echo "üßπ –û–ß–ò–°–¢–ö–ê –ö–ï–®–ê –ò –ü–ï–†–ï–ó–ê–ì–†–£–ó–ö–ê"
echo "========================================="

# 1. –£–±–∏—Ç—å Next.js –ø—Ä–æ—Ü–µ—Å—Å
echo "1. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Next.js —Å–µ—Ä–≤–µ—Ä–∞..."
pkill -f "next dev" 2>/dev/null || true
sleep 2

# 2. –û—á–∏—Å—Ç–∏—Ç—å Next.js –∫–µ—à
echo "2. –û—á–∏—Å—Ç–∫–∞ .next –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏..."
cd d:\UpgrowPlan\upgrowplan_new
if [ -d ".next" ]; then
    rm -rf .next
    echo "   ‚úì .next –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É–¥–∞–ª–µ–Ω–∞"
fi

# 3. –û—á–∏—Å—Ç–∏—Ç—å node_modules/.cache –µ—Å–ª–∏ –µ—Å—Ç—å
echo "3. –û—á–∏—Å—Ç–∫–∞ node_modules –∫–µ—à–∞..."
if [ -d "node_modules/.cache" ]; then
    rm -rf node_modules/.cache
    echo "   ‚úì –ö–µ—à –æ—á–∏—â–µ–Ω"
fi

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
echo "4. –ó–∞–ø—É—Å–∫ Next.js dev —Å–µ—Ä–≤–µ—Ä–∞..."
npm run dev &

echo ""
echo "‚úÖ –ì–û–¢–û–í–û!"
echo ""
echo "–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:"
echo "  ‚Ä¢ http://localhost:3000/ru/solutions/socialPlanMaster"
echo "  ‚Ä¢ –ù–∞–∂–º–∏—Ç–µ Ctrl+Shift+Delete (–æ—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞)"
echo "  ‚Ä¢ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+F5)"
echo ""
echo "========================================="
