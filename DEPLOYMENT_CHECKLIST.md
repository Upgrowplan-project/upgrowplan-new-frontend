# üöÄ Deployment Guide - Vercel

## ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω—ã!

React error #425 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à—ë–Ω. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ git.

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ i18n –ø–µ—Ä–µ–¥–µ–ª–∞–Ω–∞**

- ‚úÖ Middleware –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç —è–∑—ã–∫ –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ –í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ–±—ë—Ä—Ç–∫–∏
- ‚úÖ –ù–µ—Ç hydration –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### 2. **Root layout –∏—Å–ø—Ä–∞–≤–ª–µ–Ω**

- ‚úÖ `<html lang={locale}>` –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ `suppressHydrationWarning` –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ª–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫

### 3. **Header –∏ Footer –æ–±–Ω–æ–≤–ª–µ–Ω—ã**

- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç `next-intl`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç `usePathname()` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞
- ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç –≤–µ–∑–¥–µ –±–µ–∑ –æ—à–∏–±–æ–∫

### 4. **–í—Å–µ locale wrapper pages —Å–æ–∑–¥–∞–Ω—ã**

- ‚úÖ 14 wrapper —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–∞—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–±–∏—Ä–∞—é—Ç –º–µ–∂–¥—É `page.en.tsx` –∏ `page.ru.tsx`

## üîë –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö:

### middleware.ts

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç /en –∏–ª–∏ /ru –ø—Ä–µ—Ñ–∏–∫—Å—ã
// –î–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç —è–∑—ã–∫ –±—Ä–∞—É–∑–µ—Ä–∞ –∏–∑ Accept-Language header
// –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –¥–ª—è –≤—Å–µ—Ö –ø—É—Ç–µ–π
```

### app/layout.tsx

```typescript
// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç lang –∞—Ç—Ä–∏–±—É—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ locale
// –î–æ–±–∞–≤–ª–µ–Ω suppressHydrationWarning
<html lang={locale} suppressHydrationWarning>
```

### app/page.tsx

```typescript
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è useRouter() –≤–º–µ—Å—Ç–æ redirect()
// –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–∑—ã–∫ –±—Ä–∞—É–∑–µ—Ä–∞ –≤ useEffect
// –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è Vercel deployment:

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å—ë –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ:

```bash
cd upgrowplan_new
git status  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å "nothing to commit"
```

### 2. Push –Ω–∞ GitHub:

```bash
git push origin main
```

### 3. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- ‚úÖ –û–±–Ω–∞—Ä—É–∂–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç build
- ‚úÖ –†–∞–∑–≤–µ—Ä–Ω—ë—Ç –Ω–∞ production

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ production:

–û—Ç–∫—Ä–æ–π—Ç–µ https://www.upgrowplan.com –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

- [ ] **–ù–µ—Ç –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫** - –æ—Å–æ–±–µ–Ω–Ω–æ React error #425
- [ ] **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —è–∑—ã–∫** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å Russian, –µ—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ Russian
- [ ] **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤** —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫–Ω–æ–ø–∫–∏ EN/RU –≤ header)
- [ ] **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π `<html lang>`** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ DevTools -> Elements

## üß™ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–µ—Ä–µ–¥ push):

```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
npm run build

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ build —É—Å–ø–µ—à–Ω—ã–π
# "Export encountered errors" –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–∫–∞–∑–∞–Ω–æ –≤ –∫–æ–Ω—Ü–µ
```

## ‚ö†Ô∏è –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

### React error #425 –≤—Å—ë –µ—â—ë –µ—Å—Ç—å:

1. –û—á–∏—Å—Ç–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä –∫–µ—à (Ctrl+Shift+Delete)
2. –ó–∞–Ω–æ–≤–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–∞–π—Ç (Ctrl+F5)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DevTools: Elements -> –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `<html>` –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `lang` –∞—Ç—Ä–∏–±—É—Ç

### –Ø–∑—ã–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ middleware –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å—É–µ—Ç
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `Accept-Language` header –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ URL —Å–æ–¥–µ—Ä–∂–∏—Ç `/ru` –∏–ª–∏ `/en` –ø—Ä–µ—Ñ–∏–∫—Å

### Vercel build fails:

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π build: `npm run build`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `npm install`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Vercel dashboard

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

- **–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:** 32
- **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 20
- **–£–¥–∞–ª–µ–Ω–æ:** 2 —Å—Ç–∞—Ä—ã—Ö locale —Ñ–∞–π–ª–∞
- **Build size:** ~80 kB (–ø–µ—Ä–≤—ã–π load JS)
- **Routes:** 49 (25 –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —è–∑—ã–∫–∞)
- **Middleware:** 26.3 kB

## ‚ú® –ì–æ—Ç–æ–≤–æ –∫ production!

–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ Vercel.

**React error #425 –±–æ–ª—å—à–µ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–ª—è—Ç—å—Å—è!**
